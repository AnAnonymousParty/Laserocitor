<!--
// For the record . . .                                                                                                          
//                                                                                                                               
// Copyright © 2025 by Laserocitors.                                                                        
//                                                                                                                               
// All rights reserved.  No part of this program may be reproduced, stored in a
// retrieval system or transmitted, in any form or by any means, including but 
// not limited to electronic, mechanical, photocopying, recording, or otherwise, 
// without the express prior written consent of Laserocitors afs@laserocitors.com.

-->

<!-- This user control provides the controls that affect the beam chopper modes.  -->
    
<UserControl d:DesignHeight="250" 
             d:DesignWidth="400"
             mc:Ignorable="d" 
             x:Class="Laserocitor.UserControls.BeamChopper.BeamChopper"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:rotaryControl="clr-namespace:RotaryControl;assembly=RotaryControl"
             xmlns:toggleSwitchControl="clr-namespace:ToggleSwitchControl;assembly=ToggleSwitchControl"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <!-- Beam Chopper section primary container. -->
    <StackPanel DataContext="{Binding RelativeSource={RelativeSource AncestorType=UserControl, Mode=FindAncestor}}"
                Height="Auto"
                HorizontalAlignment="Center"
                Margin="0,0,0,0" 
                Orientation="Vertical" 
                VerticalAlignment="Top"
                x:Name="BeamChopperContainer">
        <GroupBox Background="Transparent" 
                  BorderBrush="Cyan"
                  Foreground="Cyan"
                  Header="CHOPPER"
                  Height="Auto"
                  HorizontalAlignment="Center"
                  Margin="0,0,0,0"
                  Style="{StaticResource GroupBoxStyle1}"
                  ToolTip="{StaticResource BC_ToolTipText_BCGB}"
                  VerticalAlignment="Top"                  
                  Width="320"
                  x:Name="SectionGroupBox">
            
            <!-- Container for all of the controls. -->
            <StackPanel Height="Auto" 
                        HorizontalAlignment="Center"
                        Margin="0,0,0,0"
                        Orientation="Vertical"
                        Width="Auto">
                
                <!-- Container for the Master Enable/Disable switch and Rate/Duty Cycle controls. -->
                <StackPanel Orientation="Horizontal">
                    <toggleSwitchControl:ToggleSwitchControl Height="80" 
                                                             HorizontalAlignment="Left" 
                                                             SwitchOn="False"
                                                             ControlEnabled="True"
                                                             LEDOffColor="eLEDRed"
                                                             LEDOnColor="eLEDGreen"
                                                             LegendBrush="White"
                                                             LegendFontSize="12"                                                        
                                                             SwitchLegendText="ENABLE"
                                                             SwitchSize="32"
                                                             TBClkd="ChopperEnableTSClkd"  
                                                             ToolTip="{StaticResource BC_ToolTipText_BCMETS}"
                                                             Width="90"
                                                             x:Name="BCMasterEnableTS"/>
                    <rotaryControl:RotaryControl Background="Transparent"             
                                                 ControlEnabled="False"
                                                 EndAngleInDegrees="135"
                                                 FontBrush="White"                                                       
                                                 Height="205"
                                                 HorizontalAlignment="Center"                                                     
                                                 LabelDialRadius="60"
                                                 LegendBrush="White"
                                                 LegendFontSize="18"
                                                 LegendText="RATE"
                                                 MajorTickBrush="White"
                                                 MajorTickDialRadius="60"
                                                 MajorTickIncrement="1000"
                                                 Margin="0,-10,0,0"
                                                 MinimumValue="0"
                                                 MinorTickBrush="LightGray"
                                                 MinorTickDialRadius="50"
                                                 NumberOfMajorTicks="11"
                                                 NumberOfMinorTicks="2"
                                                 PointerAxleFillActive="#00FF00"
                                                 PointerAxleFillInactive="#FF0000"  
                                                 PointerType="arrow"
                                                 Size="0.6"
                                                 StartAngleInDegrees="225"
                                                 ToolTip="{StaticResource BC_ToolTipText_BCRRC}"
                                                 Value="{Binding BCRate, Mode=TwoWay}"
                                                 VerticalAlignment="Top"
                                                 Width="170"                                                                 
                                                 x:Name="BCRateRC">

                        <rotaryControl:RotaryControl.PointerFill>
                            <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                                <GradientStop Color="#000000" Offset="0"/>
                                <GradientStop Color="#0000FF" Offset="1.0"/>
                            </LinearGradientBrush>
                        </rotaryControl:RotaryControl.PointerFill>

                        <rotaryControl:RotaryControl.InnerDialRadius>40</rotaryControl:RotaryControl.InnerDialRadius>
                        <rotaryControl:RotaryControl.InnerDialFill>
                            <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                                <GradientStop Color="DodgerBlue" Offset="0"/>
                                <GradientStop Color="Blue" Offset="1.0"/>
                            </LinearGradientBrush>
                        </rotaryControl:RotaryControl.InnerDialFill>

                        <rotaryControl:RotaryControl.OuterDialBorderThickness>2</rotaryControl:RotaryControl.OuterDialBorderThickness>
                        <rotaryControl:RotaryControl.OuterDialFill>
                            <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                                <GradientStop Color="Black" Offset="0"/>
                                <GradientStop Color="DarkBlue" Offset="1.0"/>
                            </LinearGradientBrush>
                        </rotaryControl:RotaryControl.OuterDialFill>
                        <rotaryControl:RotaryControl.LayoutTransform>
                            <ScaleTransform  ScaleX="{Binding Size, ElementName=BCRateRC}" 
                                             ScaleY="{Binding Size, ElementName=BCRateRC}"/>
                        </rotaryControl:RotaryControl.LayoutTransform>
                    </rotaryControl:RotaryControl>
                    <rotaryControl:RotaryControl Background="Transparent"             
                                                 ControlEnabled="False"
                                                 EndAngleInDegrees="135"
                                                 FontBrush="White"                                                       
                                                 Height="200"
                                                 HideFineTuneButtons="True"
                                                 HorizontalAlignment="Center"                                                     
                                                 LabelDialRadius="60"
                                                 LegendBrush="White"
                                                 LegendFontSize="18"
                                                 LegendText="DUTY CYCLE"
                                                 MajorTickBrush="White"
                                                 MajorTickDialRadius="60"
                                                 MajorTickIncrement="10"
                                                 Margin="0,-10,0,0"
                                                 MinimumValue="0"
                                                 MinorTickBrush="LightGray"
                                                 MinorTickDialRadius="50"
                                                 NumberOfMajorTicks="11"
                                                 NumberOfMinorTicks="2"
                                                 PointerAxleFillActive="#00FF00"
                                                 PointerAxleFillInactive="#FF0000"  
                                                 PointerType="arrow"
                                                 Size="0.6"
                                                 StartAngleInDegrees="225"
                                                 ToolTip="{StaticResource BC_ToolTipText_BCDCRC}"
                                                 Value="{Binding BCDutyCycle, Mode=TwoWay}"
                                                 VerticalAlignment="Top"
                                                 Width="170"                                                                 
                                                 x:Name="BCDutyCycleRC">

                        <rotaryControl:RotaryControl.PointerFill>
                            <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                                <GradientStop Color="#000000" Offset="0"/>
                                <GradientStop Color="#0000FF" Offset="1.0"/>
                            </LinearGradientBrush>
                        </rotaryControl:RotaryControl.PointerFill>

                        <rotaryControl:RotaryControl.InnerDialRadius>40</rotaryControl:RotaryControl.InnerDialRadius>
                        <rotaryControl:RotaryControl.InnerDialFill>
                            <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                                <GradientStop Color="DodgerBlue" Offset="0"/>
                                <GradientStop Color="Blue" Offset="1.0"/>
                            </LinearGradientBrush>
                        </rotaryControl:RotaryControl.InnerDialFill>

                        <rotaryControl:RotaryControl.OuterDialBorderThickness>2</rotaryControl:RotaryControl.OuterDialBorderThickness>
                        <rotaryControl:RotaryControl.OuterDialFill>
                            <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                                <GradientStop Color="Black" Offset="0"/>
                                <GradientStop Color="DarkBlue" Offset="1.0"/>
                            </LinearGradientBrush>
                        </rotaryControl:RotaryControl.OuterDialFill>
                        <rotaryControl:RotaryControl.LayoutTransform>
                            <ScaleTransform  ScaleX="{Binding Size, ElementName=BCDutyCycleRC}" 
                                             ScaleY="{Binding Size, ElementName=BCDutyCycleRC}"/>
                        </rotaryControl:RotaryControl.LayoutTransform>
                    </rotaryControl:RotaryControl>
                </StackPanel>

                <!-- Container for the individual R/G/B enable/disable switches. -->
                <StackPanel Height="Auto" 
                            HorizontalAlignment="Center"
                            Orientation="Horizontal"
                            Margin="0,5,0,5"
                            Width="Auto">
                    <toggleSwitchControl:ToggleSwitchControl Height="80" 
                                                             HorizontalAlignment="Left" 
                                                             SwitchOn="False"
                                                             ControlEnabled="True"
                                                             LEDOffColor="eLEDWhite"
                                                             LEDOnColor="eLEDRed"
                                                             LegendBrush="PaleVioletRed"
                                                             LegendFontSize="12"                                                         
                                                             SwitchLegendText="RED"
                                                             SwitchSize="32"
                                                             TBClkd="ChopperRedTSClkd"  
                                                             ToolTip="{StaticResource BC_ToolTipText_BCRETS}"
                                                             Width="100"
                                                             x:Name="BCRedEnableTS"/>
                    <toggleSwitchControl:ToggleSwitchControl Height="80" 
                                                             HorizontalAlignment="Left" 
                                                             SwitchOn="False"
                                                             ControlEnabled="True"
                                                             LEDOffColor="eLEDWhite"
                                                             LEDOnColor="eLEDGreen"
                                                             LegendBrush="LightGreen"
                                                             LegendFontSize="12"                                                        
                                                             SwitchLegendText="GREEN"
                                                             SwitchSize="32"
                                                             TBClkd="ChopperGreenTSClkd"  
                                                             ToolTip="{StaticResource BC_ToolTipText_BCGETS}"
                                                             Width="100"
                                                             x:Name="BCGreenEnableTS"/>
                    <toggleSwitchControl:ToggleSwitchControl Height="80" 
                                                             HorizontalAlignment="Left" 
                                                             SwitchOn="False"
                                                             ControlEnabled="True"
                                                             LEDOffColor="eLEDWhite"
                                                             LEDOnColor="eLEDBLue"
                                                             LegendBrush="DodgerBlue"
                                                             LegendFontSize="12"
                                                             SwitchLegendText="BLUE"
                                                             SwitchSize="32"
                                                             TBClkd="ChopperBlueTSClkd"  
                                                             ToolTip="{StaticResource BC_ToolTipText_BCBETS}"
                                                             Width="100"
                                                             x:Name="BCBlueEnableTS"/>
                </StackPanel>
            </StackPanel>
        </GroupBox>
    </StackPanel>
</UserControl>
