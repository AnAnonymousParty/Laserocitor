<!--
// For the record . . .                                                                                                          
//                                                                                                                               
// Copyright © 2025 by Laserocitors.                                                                        
//                                                                                                                               
// All rights reserved.  No part of this program may be reproduced, stored in a
// retrieval system or transmitted, in any form or by any means, including but 
// not limited to electronic, mechanical, photocopying, recording, or otherwise, 
// without the express prior written consent of Laserocitors afs@laserocitors.com.

-->

<!-- This user control provides the controls that affect the color of the simulated
     laser beam in real time.                                                        -->

<UserControl d:DesignHeight="195" 
             d:DesignWidth="1420"
             mc:Ignorable="d"
             x:Class="Laserocitor.UserControls.ColorModulation.ColorModulation"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:rotaryControl="clr-namespace:RotaryControl;assembly=RotaryControl"
             xmlns:toggleSwitchControl="clr-namespace:ToggleSwitchControl;assembly=ToggleSwitchControl">
    

    <!-- Color Modulation section primary container. -->
    <StackPanel DataContext="{Binding RelativeSource={RelativeSource AncestorType=UserControl, Mode=FindAncestor}}"
                Height="Auto"
                Margin="0,0,0,0" 
                Orientation="Vertical" 
                VerticalAlignment="Top"
                Width="Auto"
                x:Name="ImageParmsContainer">
        <GroupBox Background="Transparent" 
                  BorderBrush="Cyan"
                  Foreground="Cyan"
                  Header="COLOR MODULATION"
                  Height="195"
                  HorizontalAlignment="Left"
                  Margin="0,0,0,0"
                  Style="{StaticResource GroupBoxStyle1}"
                  ToolTip="{StaticResource CM_ToolTipText_CMGB}"
                  VerticalAlignment="Top"                  
                  Width="1420"
                  x:Name="SectionGroupBox">

            <!-- Controls container. -->
            <StackPanel Orientation="Horizontal">
                <rotaryControl:RotaryControl Background="Transparent"             
                                             ControlEnabled="True"
                                             EndAngleInDegrees="135"
                                             FontBrush="White"                                                       
                                             Height="200"
                                             HideFineTuneButtons="True" 
                                             HorizontalAlignment="Center"                                                     
                                             LabelDialRadius="60"
                                             LabelMaxDigits="3"
                                             LegendBrush="White"
                                             LegendFontSize="18"
                                             LegendText="INTENSITY"
                                             MajorTickBrush="White"
                                             MajorTickDialRadius="60"
                                             MajorTickIncrement="10"
                                             Margin="0,30,5,0"
                                             MinimumValue="0"
                                             MinorTickBrush="LightGray"
                                             MinorTickDialRadius="50"
                                             NumberOfMajorTicks="11"
                                             NumberOfMinorTicks="2"
                                             PointerAxleFillActive="#00FF00"
                                             PointerAxleFillInactive="#FF0000"  
                                             PointerType="arrow"
                                             Size="0.5"
                                             StartAngleInDegrees="225"
                                             ToolTip="{StaticResource CM_ToolTipText_CMIRC}"
                                             Value="{Binding CMIntensity, Mode=TwoWay}"
                                             VerticalAlignment="Top"
                                             Width="170"                                                                 
                                             x:Name="CMIntensityRC">

                    <rotaryControl:RotaryControl.PointerFill>
                        <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                            <GradientStop Color="#000000" Offset="0"/>
                            <GradientStop Color="#0000FF" Offset="1.0"/>
                        </LinearGradientBrush>
                    </rotaryControl:RotaryControl.PointerFill>

                    <rotaryControl:RotaryControl.InnerDialRadius>40</rotaryControl:RotaryControl.InnerDialRadius>
                    <rotaryControl:RotaryControl.InnerDialFill>
                        <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                            <GradientStop Color="DodgerBlue" Offset="0"/>
                            <GradientStop Color="Blue" Offset="1.0"/>
                        </LinearGradientBrush>
                    </rotaryControl:RotaryControl.InnerDialFill>

                    <rotaryControl:RotaryControl.OuterDialBorderThickness>2</rotaryControl:RotaryControl.OuterDialBorderThickness>
                    <rotaryControl:RotaryControl.OuterDialFill>
                        <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                            <GradientStop Color="Black" Offset="0"/>
                            <GradientStop Color="DarkBlue" Offset="1.0"/>
                        </LinearGradientBrush>
                    </rotaryControl:RotaryControl.OuterDialFill>
                    <rotaryControl:RotaryControl.LayoutTransform>
                        <ScaleTransform  ScaleX="{Binding Size, ElementName=CMIntensityRC}" 
                                         ScaleY="{Binding Size, ElementName=CMIntensityRC}"/>
                    </rotaryControl:RotaryControl.LayoutTransform>
                </rotaryControl:RotaryControl>

                <toggleSwitchControl:ToggleSwitchControl Height="80" 
                                                         HorizontalAlignment="Left" 
                                                         SwitchOn="False"
                                                         ControlEnabled="True"
                                                         LEDOffColor="eLEDRed"
                                                         LEDOnColor="eLEDGreen"
                                                         LegendBrush="White"
                                                         LegendFontSize="12"
                                                         OffLabelText="MANUAL"
                                                         OnLabelText="AUTO"                                                         
                                                         SwitchLegendText="MODE"
                                                         SwitchSize="32"
                                                         TBClkd="ColorModAutoTSClkd"  
                                                         ToolTip="{StaticResource CM_ToolTipText_CMATS}"
                                                         Width="90"
                                                         x:Name="CMAutoTS"/>

                <!-- Manual sub-section. -->
                <Border Background="{StaticResource SubSectionBackground}"
                        BorderBrush="{StaticResource SubSectionBorder}" 
                        BorderThickness="1" 
                        CornerRadius="10" 
                        Height="170" 
                        HorizontalAlignment="Center"  
                        Margin="0,0,5,0" 
                        ToolTip="{StaticResource CM_ToolTipText_CMSS}"
                        VerticalAlignment="Top"
                        Width="Auto">

                    <!-- Manual Sub-section container. -->
                    <StackPanel Orientation="Vertical">
                        <Label Foreground="SkyBlue" 
                               HorizontalContentAlignment="Center"
                               Margin="0,-5,0,10">
                            MANUAL
                        </Label>

                        <!-- Manual controls container. -->
                        <StackPanel Orientation="Horizontal"
                                    VerticalAlignment="Center">
                            <rotaryControl:RotaryControl Background="Transparent"             
                                                         ControlEnabled="True"
                                                         EndAngleInDegrees="135"
                                                         FontBrush="White"                                                       
                                                         Height="200"
                                                         HideFineTuneButtons="True"
                                                         HorizontalAlignment="Center"                                                     
                                                         LabelDialRadius="60"
                                                         LegendBrush="Red"
                                                         LegendFontSize="18"
                                                         LegendText="RED"
                                                         MajorTickBrush="White"
                                                         MajorTickDialRadius="60"
                                                         MajorTickIncrement="64"
                                                         Margin="0,0,0,0"
                                                         MinimumValue="0"
                                                         MinorTickBrush="LightGray"
                                                         MinorTickDialRadius="50"
                                                         NumberOfMajorTicks="5"
                                                         NumberOfMinorTicks="2"
                                                         PointerAxleFillActive="#00FF00"
                                                         PointerAxleFillInactive="#FF0000"  
                                                         PointerType="arrow"
                                                         Size="0.6"
                                                         StartAngleInDegrees="225"
                                                         ToolTip="{StaticResource CM_ToolTipText_CMRRC}"
                                                         Value="{Binding CMRed, Mode=TwoWay}"
                                                         VerticalAlignment="Top"
                                                         Width="170"                                                                 
                                                         x:Name="CMRedRC">

                                <rotaryControl:RotaryControl.PointerFill>
                                    <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                                        <GradientStop Color="#000000" Offset="0"/>
                                        <GradientStop Color="#0000FF" Offset="1.0"/>
                                    </LinearGradientBrush>
                                </rotaryControl:RotaryControl.PointerFill>

                                <rotaryControl:RotaryControl.InnerDialRadius>40</rotaryControl:RotaryControl.InnerDialRadius>
                                <rotaryControl:RotaryControl.InnerDialFill>
                                    <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                                        <GradientStop Color="DodgerBlue" Offset="0"/>
                                        <GradientStop Color="Blue" Offset="1.0"/>
                                    </LinearGradientBrush>
                                </rotaryControl:RotaryControl.InnerDialFill>

                                <rotaryControl:RotaryControl.OuterDialBorderThickness>2</rotaryControl:RotaryControl.OuterDialBorderThickness>
                                <rotaryControl:RotaryControl.OuterDialFill>
                                    <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                                        <GradientStop Color="Black" Offset="0"/>
                                        <GradientStop Color="DarkBlue" Offset="1.0"/>
                                    </LinearGradientBrush>
                                </rotaryControl:RotaryControl.OuterDialFill>
                                <rotaryControl:RotaryControl.LayoutTransform>
                                    <ScaleTransform  ScaleX="{Binding Size, ElementName=CM3PhaseOscRateRC}" 
                                                    ScaleY="{Binding Size, ElementName=CM3PhaseOscRateRC}"/>
                                </rotaryControl:RotaryControl.LayoutTransform>
                            </rotaryControl:RotaryControl>
                            <rotaryControl:RotaryControl Background="Transparent"             
                                                         ControlEnabled="True"
                                                         EndAngleInDegrees="135"
                                                         FontBrush="White"                                                       
                                                         Height="200"
                                                         HideFineTuneButtons="True"
                                                         HorizontalAlignment="Center"                                                     
                                                         LabelDialRadius="60"
                                                         LegendBrush="Green"
                                                         LegendFontSize="18"
                                                         LegendText="GREEN"
                                                         MajorTickBrush="White"
                                                         MajorTickDialRadius="60"
                                                         MajorTickIncrement="64"
                                                         Margin="0,0,0,0"
                                                         MinimumValue="0"
                                                         MinorTickBrush="LightGray"
                                                         MinorTickDialRadius="50"
                                                         NumberOfMajorTicks="5"
                                                         NumberOfMinorTicks="2"
                                                         PointerAxleFillActive="#00FF00"
                                                         PointerAxleFillInactive="#FF0000"  
                                                         PointerType="arrow"
                                                         Size="0.6"
                                                         StartAngleInDegrees="225"
                                                         ToolTip="{StaticResource CM_ToolTipText_CMGRC}"
                                                         Value="{Binding CMGreen, Mode=TwoWay}"
                                                         VerticalAlignment="Top"
                                                         Width="170"                                                                 
                                                         x:Name="CMGreenRC">
                                <rotaryControl:RotaryControl.PointerFill>
                                    <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                                        <GradientStop Color="#000000" Offset="0"/>
                                        <GradientStop Color="#0000FF" Offset="1.0"/>
                                    </LinearGradientBrush>
                                </rotaryControl:RotaryControl.PointerFill>

                                <rotaryControl:RotaryControl.InnerDialRadius>40</rotaryControl:RotaryControl.InnerDialRadius>
                                <rotaryControl:RotaryControl.InnerDialFill>
                                    <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                                        <GradientStop Color="DodgerBlue" Offset="0"/>
                                        <GradientStop Color="Blue" Offset="1.0"/>
                                    </LinearGradientBrush>
                                </rotaryControl:RotaryControl.InnerDialFill>

                                <rotaryControl:RotaryControl.OuterDialBorderThickness>2</rotaryControl:RotaryControl.OuterDialBorderThickness>
                                <rotaryControl:RotaryControl.OuterDialFill>
                                    <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                                        <GradientStop Color="Black" Offset="0"/>
                                        <GradientStop Color="DarkBlue" Offset="1.0"/>
                                    </LinearGradientBrush>
                                </rotaryControl:RotaryControl.OuterDialFill>
                                <rotaryControl:RotaryControl.LayoutTransform>
                                    <ScaleTransform  ScaleX="{Binding Size, ElementName=CM3PhaseOscRateRC}" 
                                                    ScaleY="{Binding Size, ElementName=CM3PhaseOscRateRC}"/>
                                </rotaryControl:RotaryControl.LayoutTransform>
                            </rotaryControl:RotaryControl>
                            <rotaryControl:RotaryControl Background="Transparent"             
                                                         ControlEnabled="True"
                                                         EndAngleInDegrees="135"
                                                         FontBrush="White"                                                       
                                                         Height="200"
                                                         HideFineTuneButtons="True"
                                                         HorizontalAlignment="Center"                                                     
                                                         LabelDialRadius="60"
                                                         LegendBrush="Blue"
                                                         LegendFontSize="18"
                                                         LegendText="BLUE"
                                                         MajorTickBrush="White"
                                                         MajorTickDialRadius="60"
                                                         MajorTickIncrement="64"
                                                         Margin="0,0,0,0"
                                                         MinimumValue="0"
                                                         MinorTickBrush="LightGray"
                                                         MinorTickDialRadius="50"
                                                         NumberOfMajorTicks="5"
                                                         NumberOfMinorTicks="2"
                                                         PointerAxleFillActive="#00FF00"
                                                         PointerAxleFillInactive="#FF0000"  
                                                         PointerType="arrow"
                                                         Size="0.6"
                                                         StartAngleInDegrees="225"
                                                         ToolTip="{StaticResource CM_ToolTipText_CMBRC}"
                                                         Value="{Binding CMBlue, Mode=TwoWay}"
                                                         VerticalAlignment="Top"
                                                         Width="170"                                                                 
                                                         x:Name="CMBlueRC">

                                <rotaryControl:RotaryControl.PointerFill>
                                    <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                                        <GradientStop Color="#000000" Offset="0"/>
                                        <GradientStop Color="#0000FF" Offset="1.0"/>
                                    </LinearGradientBrush>
                                </rotaryControl:RotaryControl.PointerFill>

                                <rotaryControl:RotaryControl.InnerDialRadius>40</rotaryControl:RotaryControl.InnerDialRadius>
                                <rotaryControl:RotaryControl.InnerDialFill>
                                    <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                                        <GradientStop Color="DodgerBlue" Offset="0"/>
                                        <GradientStop Color="Blue" Offset="1.0"/>
                                    </LinearGradientBrush>
                                </rotaryControl:RotaryControl.InnerDialFill>

                                <rotaryControl:RotaryControl.OuterDialBorderThickness>2</rotaryControl:RotaryControl.OuterDialBorderThickness>
                                <rotaryControl:RotaryControl.OuterDialFill>
                                    <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                                        <GradientStop Color="Black" Offset="0"/>
                                        <GradientStop Color="DarkBlue" Offset="1.0"/>
                                    </LinearGradientBrush>
                                </rotaryControl:RotaryControl.OuterDialFill>
                                <rotaryControl:RotaryControl.LayoutTransform>
                                    <ScaleTransform  ScaleX="{Binding Size, ElementName=CM3PhaseOscRateRC}" 
                                                    ScaleY="{Binding Size, ElementName=CM3PhaseOscRateRC}"/>
                                </rotaryControl:RotaryControl.LayoutTransform>
                            </rotaryControl:RotaryControl>
                            <rotaryControl:RotaryControl Background="Transparent"             
                                                         ControlEnabled="True"
                                                         EndAngleInDegrees="360"
                                                         FontBrush="White"                                                       
                                                         Height="200"
                                                         HideFineTuneButtons="True" 
                                                         HorizontalAlignment="Center"                                                     
                                                         LabelDialRadius="60"
                                                         LegendBrush="White"
                                                         LegendFontSize="18"
                                                         LegendText="RGB"
                                                         MajorTickBrush="White"
                                                         MajorTickDialRadius="60"
                                                         MajorTickIncrement="511"
                                                         Margin="5,0,0,0"
                                                         MinimumValue="0"
                                                         MinorTickBrush="LightGray"
                                                         MinorTickDialRadius="50"
                                                         NumberOfMajorTicks="4"
                                                         NumberOfMinorTicks="2"
                                                         PointerAxleFillActive="#00FF00"
                                                         PointerAxleFillInactive="#FF0000"  
                                                         PointerType="arrow"
                                                         ShowLabels="False"
                                                         Size="0.5"
                                                         StartAngleInDegrees="0"
                                                         ToolTip="{StaticResource CM_ToolTipText_CMRGBRC}"
                                                         Value="{Binding CMRGB, Mode=TwoWay}"
                                                         VerticalAlignment="Top"
                                                         Width="170"                                                                 
                                                         x:Name="CMRGBRC">

                                <rotaryControl:RotaryControl.PointerFill>
                                    <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                                        <GradientStop Color="#000000" Offset="0"/>
                                        <GradientStop Color="#0000FF" Offset="1.0"/>
                                    </LinearGradientBrush>
                                </rotaryControl:RotaryControl.PointerFill>

                                <rotaryControl:RotaryControl.InnerDialRadius>40</rotaryControl:RotaryControl.InnerDialRadius>
                                <rotaryControl:RotaryControl.InnerDialFill>
                                    <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                                        <GradientStop Color="DodgerBlue" Offset="0"/>
                                        <GradientStop Color="Blue" Offset="1.0"/>
                                    </LinearGradientBrush>
                                </rotaryControl:RotaryControl.InnerDialFill>

                                <rotaryControl:RotaryControl.OuterDialBorderThickness>2</rotaryControl:RotaryControl.OuterDialBorderThickness>
                                <rotaryControl:RotaryControl.OuterDialFill>
                                    <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                                        <GradientStop Color="Black" Offset="0"/>
                                        <GradientStop Color="DarkBlue" Offset="1.0"/>
                                    </LinearGradientBrush>
                                </rotaryControl:RotaryControl.OuterDialFill>
                                <rotaryControl:RotaryControl.LayoutTransform>
                                    <ScaleTransform  ScaleX="{Binding Size, ElementName=CMRGBRC}" 
                                                     ScaleY="{Binding Size, ElementName=CMRGBRC}"/>
                                </rotaryControl:RotaryControl.LayoutTransform>
                            </rotaryControl:RotaryControl>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- Auto sub-section. -->
                <Border Background="{StaticResource SubSectionBackground}"
                        BorderBrush="{StaticResource SubSectionBorder}" 
                        BorderThickness="1" 
                        CornerRadius="10" 
                        Height="170" 
                        HorizontalAlignment="Center"  
                        Margin="0,0,0,0" 
                        ToolTip="{StaticResource CM_ToolTipText_CMMS}"
                        VerticalAlignment="Top"
                        Width="Auto">
                    <StackPanel HorizontalAlignment="Center" 
                                Orientation="Vertical">
                        <Label Foreground="SkyBlue" 
                               HorizontalContentAlignment="Center"
                               Margin="0,-5,0,0">
                            AUTO
                        </Label>

                        <!-- Color modulation controls container. -->
                        <StackPanel HorizontalAlignment="Center" 
                                    Orientation="Horizontal"
                                    VerticalAlignment="Top">

                            <!-- Source sub-sub-section. -->
                            <Border Background="{StaticResource SubSubSectionBackground}"
                                    BorderBrush="{StaticResource SubSubSectionBorder}" 
                                    BorderThickness="1" 
                                    CornerRadius="10" 
                                    Height="165" 
                                    HorizontalAlignment="Center"  
                                    Margin="5,-18,0,0" 
                                    ToolTip="{StaticResource CM_ToolTipText_CMSS}"
                                    VerticalAlignment="Top"
                                    Width="100">
                                <StackPanel HorizontalAlignment="Center" 
                                            Margin="0,0,0,0"
                                            Orientation="Vertical">
                                    <Label Foreground="SkyBlue" 
                                           HorizontalContentAlignment="Center"
                                           Margin="0,-5,0,0">
                                        SOURCE
                                    </Label>
                                    <Button Background="{StaticResource ButtonDisabledOff}"  
                                            Click="CMBtnClkd"
                                            Height="22" 
                                            HorizontalAlignment="Center"
                                            Margin="0,0,0,2"
                                            Style="{StaticResource RoundedButtonStyle}"
                                            ToolTip="{StaticResource CM_ToolTipText_CMB}"
                                            Width="Auto"
                                            x:Name="CMBtn">
                                        <TextBlock Text="COLOR MOD" Margin="5,2,5,0" />
                                    </Button>
                                    <Button Background="{StaticResource ButtonDisabledOff}"  
                                            Click="CMSROBtnClkd"
                                            Height="22" 
                                            Margin="0,0,0,0"
                                            Style="{StaticResource RoundedButtonStyle}"
                                            ToolTip="{StaticResource CM_ToolTipText_CSFCSRB}"
                                            Width="Auto"
                                            x:Name="CMCSROBtn">
                                        <TextBlock Text="CYC SRO" Margin="5,2,5,0" />
                                    </Button>
                                    <Button Background="{StaticResource ButtonDisabledOff}"  
                                            Click="CMSWOBtnClkd"
                                            Height="22" 
                                            Margin="0,0,0,2"
                                            Style="{StaticResource RoundedButtonStyle}"
                                            ToolTip="{StaticResource CM_ToolTipText_CSOMOB}"
                                            Width="Auto"
                                            x:Name="CMCSWOBtn">
                                        <TextBlock Text="CYC SWO" Margin="5,2,5,0" />
                                    </Button>
                                    <Button Background="{StaticResource ButtonDisabledOff}"  
                                            Click="CMGOscBtnClkd"
                                            Height="22" 
                                            Margin="0,0,0,0"
                                            Style="{StaticResource RoundedButtonStyle}"
                                            ToolTip="{StaticResource CM_ToolTipText_CMGB}"
                                            Width="Auto"
                                            x:Name="CMRSGOBtn">
                                        <TextBlock Text="RS GO" Margin="5,2,5,0" />
                                    </Button>
                                    <Button Background="{StaticResource ButtonDisabledOff}"  
                                            Click="CMROscBtnClkd"
                                            Height="22" 
                                            Margin="0,0,0,0"
                                            Style="{StaticResource RoundedButtonStyle}"
                                            ToolTip="{StaticResource CM_ToolTipText_CMRB}"
                                            Width="Auto"
                                            x:Name="CMRSROBtn">
                                        <TextBlock Text="RS RO" Margin="5,2,5,0" />
                                    </Button>
                                    <Button Background="{StaticResource ButtonDisabledOff}"  
                                            Click="CMRSAMBtnClkd"
                                            Height="22" 
                                            Margin="0,0,0,0"
                                            Style="{StaticResource RoundedButtonStyle}"
                                            ToolTip="{StaticResource CM_ToolTipText_CMAMOB}"
                                            Width="Auto"
                                            x:Name="CMRSAMBtn">
                                        <TextBlock Text="RS AM" Margin="5,2,5,0" />
                                    </Button>
                                </StackPanel>
                            </Border>

                            <toggleSwitchControl:ToggleSwitchControl Height="80" 
                                                                     HorizontalAlignment="Left" 
                                                                     SwitchOn="False"
                                                                     ControlEnabled="True"
                                                                     LEDOffColor="eLEDRed"
                                                                     LEDOnColor="eLEDGreen"
                                                                     LegendBrush="White"
                                                                     LegendFontSize="12"
                                                                     OffLabelText="SYNCHRONIZED"
                                                                     OnLabelText="UNSYNCHRONIZED"                                                         
                                                                     SwitchLegendText="MODE"
                                                                     SwitchSize="32"
                                                                     TBClkd="ColorModModeTSClkd"  
                                                                     ToolTip="{StaticResource CM_ToolTipText_CMMTS}"
                                                                     Width="120"
                                                                     x:Name="ColorModModeTS"/>

                            <!-- Synchronized modulation sub-sub-section. -->
                            <Border Background="{StaticResource SubSubSectionBackground}"
                                    BorderBrush="{StaticResource SubSubSectionBorder}" 
                                    BorderThickness="1" 
                                    CornerRadius="10" 
                                    Height="145" 
                                    HorizontalAlignment="Center"  
                                    Margin="0,0,0,0" 
                                    ToolTip="{StaticResource CM_ToolTipText_CMSS}"
                                    VerticalAlignment="Top"
                                    Width="100">
                                <StackPanel HorizontalAlignment="Center" 
                                            Orientation="Vertical">
                                    <Label Foreground="SkyBlue" 
                                           HorizontalContentAlignment="Center">
                                        SYNCHRONIZED
                                    </Label>
                                    <rotaryControl:RotaryControl Background="Transparent"             
                                                                 ControlEnabled="True"
                                                                 EndAngleInDegrees="135"
                                                                 FontBrush="White"                                                       
                                                                 Height="205"
                                                                 HorizontalAlignment="Center"                                                     
                                                                 LabelDialRadius="60"
                                                                 LegendBrush="White"
                                                                 LegendFontSize="18"
                                                                 LegendText="RATE"
                                                                 MajorTickBrush="White"
                                                                 MajorTickDialRadius="60"
                                                                 MajorTickIncrement="10000"
                                                                 Margin="0,-10,0,0"
                                                                 MinimumValue="0"
                                                                 MinorTickBrush="LightGray"
                                                                 MinorTickDialRadius="50"
                                                                 NumberOfMajorTicks="11"
                                                                 NumberOfMinorTicks="2"
                                                                 PointerAxleFillActive="#00FF00"
                                                                 PointerAxleFillInactive="#FF0000"  
                                                                 PointerType="arrow"
                                                                 Size="0.6"
                                                                 StartAngleInDegrees="225"
                                                                 ToolTip="{StaticResource CM_ToolTipText_CMSRC}"
                                                                 Value="{Binding CM3PhaseOscRate, Mode=TwoWay}"
                                                                 VerticalAlignment="Top"
                                                                 Width="170"                                                                 
                                                                 x:Name="CM3PhaseOscRateRC">

                                        <rotaryControl:RotaryControl.PointerFill>
                                            <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                                                <GradientStop Color="#000000" Offset="0"/>
                                                <GradientStop Color="#0000FF" Offset="1.0"/>
                                            </LinearGradientBrush>
                                        </rotaryControl:RotaryControl.PointerFill>

                                        <rotaryControl:RotaryControl.InnerDialRadius>40</rotaryControl:RotaryControl.InnerDialRadius>
                                        <rotaryControl:RotaryControl.InnerDialFill>
                                            <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                                                <GradientStop Color="DodgerBlue" Offset="0"/>
                                                <GradientStop Color="Blue" Offset="1.0"/>
                                            </LinearGradientBrush>
                                        </rotaryControl:RotaryControl.InnerDialFill>

                                        <rotaryControl:RotaryControl.OuterDialBorderThickness>2</rotaryControl:RotaryControl.OuterDialBorderThickness>
                                        <rotaryControl:RotaryControl.OuterDialFill>
                                            <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                                                <GradientStop Color="Black" Offset="0"/>
                                                <GradientStop Color="DarkBlue" Offset="1.0"/>
                                            </LinearGradientBrush>
                                        </rotaryControl:RotaryControl.OuterDialFill>
                                        <rotaryControl:RotaryControl.LayoutTransform>
                                            <ScaleTransform  ScaleX="{Binding Size, ElementName=CM3PhaseOscRateRC}" 
                                                             ScaleY="{Binding Size, ElementName=CM3PhaseOscRateRC}"/>
                                        </rotaryControl:RotaryControl.LayoutTransform>
                                    </rotaryControl:RotaryControl>
                                </StackPanel>
                            </Border>

                            <!-- Unsynchronized modulation sub-sub-section. -->
                            <Border Background="{StaticResource SubSubSectionBackground}" 
                                    BorderBrush="{StaticResource SubSubSectionBorder}" 
                                    BorderThickness="1" 
                                    CornerRadius="10" 
                                    Height="145" 
                                    HorizontalAlignment="Center"  
                                    Margin="0,0,5,0" 
                                    ToolTip="{StaticResource CM_ToolTipText_CMUS}"
                                    VerticalAlignment="Top"
                                    Width="490">
                                <StackPanel HorizontalAlignment="Center" 
                                            Orientation="Vertical">
                                    <Label Foreground="SkyBlue" 
                                           HorizontalContentAlignment="Center">
                                        UNSYNCHRONIZED
                                    </Label>

                                    <!-- Unsynchronized mode Oscillators controls container. -->
                                    <StackPanel HorizontalAlignment="Center" 
                                                Orientation="Horizontal">
                                        <rotaryControl:RotaryControl Background="Transparent"             
                                                                     ControlEnabled="True"
                                                                     EndAngleInDegrees="135"
                                                                     FontBrush="White"                                                       
                                                                     Height="205"
                                                                     HorizontalAlignment="Center"                                                     
                                                                     LabelDialRadius="60"
                                                                     LegendBrush="White"
                                                                     LegendFontSize="18"
                                                                     LegendText="OSC A RATE"
                                                                     MajorTickBrush="White"
                                                                     MajorTickDialRadius="60"
                                                                     MajorTickIncrement="10000"
                                                                     Margin="0,-10,0,0"
                                                                     MinimumValue="0"
                                                                     MinorTickBrush="LightGray"
                                                                     MinorTickDialRadius="50"
                                                                     NumberOfMajorTicks="11"
                                                                     NumberOfMinorTicks="2"
                                                                     PointerAxleFillActive="#00FF00"
                                                                     PointerAxleFillInactive="#FF0000"  
                                                                     PointerType="arrow"
                                                                     Size="0.6"
                                                                     StartAngleInDegrees="225"
                                                                     ToolTip="{StaticResource CM_ToolTipText_CMOARC}"
                                                                     Value="{Binding CMOscARate, Mode=TwoWay}"
                                                                     VerticalAlignment="Top"
                                                                     Width="180"                                                                 
                                                                     x:Name="OscARateRC">

                                            <rotaryControl:RotaryControl.PointerFill>
                                                <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                                                    <GradientStop Color="#000000" Offset="0"/>
                                                    <GradientStop Color="#0000FF" Offset="1.0"/>
                                                </LinearGradientBrush>
                                            </rotaryControl:RotaryControl.PointerFill>

                                            <rotaryControl:RotaryControl.InnerDialRadius>40</rotaryControl:RotaryControl.InnerDialRadius>
                                            <rotaryControl:RotaryControl.InnerDialFill>
                                                <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                                                    <GradientStop Color="DodgerBlue" Offset="0"/>
                                                    <GradientStop Color="Blue" Offset="1.0"/>
                                                </LinearGradientBrush>
                                            </rotaryControl:RotaryControl.InnerDialFill>

                                            <rotaryControl:RotaryControl.OuterDialBorderThickness>2</rotaryControl:RotaryControl.OuterDialBorderThickness>
                                            <rotaryControl:RotaryControl.OuterDialFill>
                                                <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                                                    <GradientStop Color="Black" Offset="0"/>
                                                    <GradientStop Color="DarkBlue" Offset="1.0"/>
                                                </LinearGradientBrush>
                                            </rotaryControl:RotaryControl.OuterDialFill>
                                            <rotaryControl:RotaryControl.LayoutTransform>
                                                <ScaleTransform  ScaleX="{Binding Size, ElementName=OscARateRC}" 
                                                                 ScaleY="{Binding Size, ElementName=OscARateRC}"/>
                                            </rotaryControl:RotaryControl.LayoutTransform>
                                        </rotaryControl:RotaryControl>
                                        <rotaryControl:RotaryControl Background="Transparent"             
                                                                     ControlEnabled="True"
                                                                     EndAngleInDegrees="135"
                                                                     FontBrush="White"                                                       
                                                                     Height="205"
                                                                     HorizontalAlignment="Center"                                                     
                                                                     LabelDialRadius="60"
                                                                     LegendBrush="White"
                                                                     LegendFontSize="18"
                                                                     LegendText="OSC B RATE"
                                                                     MajorTickBrush="White"
                                                                     MajorTickDialRadius="60"
                                                                     MajorTickIncrement="10000"
                                                                     Margin="0,-10,0,0"
                                                                     MinimumValue="0"
                                                                     MinorTickBrush="LightGray"
                                                                     MinorTickDialRadius="50"
                                                                     NumberOfMajorTicks="11"
                                                                     NumberOfMinorTicks="2"
                                                                     PointerAxleFillActive="#00FF00"
                                                                     PointerAxleFillInactive="#FF0000"  
                                                                     PointerType="arrow"
                                                                     Size="0.6"
                                                                     StartAngleInDegrees="225"
                                                                     ToolTip="{StaticResource CM_ToolTipText_CMOBRC}"
                                                                     Value="{Binding CMOscBRate, Mode=TwoWay}"
                                                                     VerticalAlignment="Top"
                                                                     Width="180"                                                                 
                                                                     x:Name="OscBRateRC">

                                            <rotaryControl:RotaryControl.PointerFill>
                                                <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                                                    <GradientStop Color="#000000" Offset="0"/>
                                                    <GradientStop Color="#0000FF" Offset="1.0"/>
                                                </LinearGradientBrush>
                                            </rotaryControl:RotaryControl.PointerFill>

                                            <rotaryControl:RotaryControl.InnerDialRadius>40</rotaryControl:RotaryControl.InnerDialRadius>
                                            <rotaryControl:RotaryControl.InnerDialFill>
                                                <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                                                    <GradientStop Color="DodgerBlue" Offset="0"/>
                                                    <GradientStop Color="Blue" Offset="1.0"/>
                                                </LinearGradientBrush>
                                            </rotaryControl:RotaryControl.InnerDialFill>

                                            <rotaryControl:RotaryControl.OuterDialBorderThickness>2</rotaryControl:RotaryControl.OuterDialBorderThickness>
                                            <rotaryControl:RotaryControl.OuterDialFill>
                                                <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                                                    <GradientStop Color="Black" Offset="0"/>
                                                    <GradientStop Color="DarkBlue" Offset="1.0"/>
                                                </LinearGradientBrush>
                                            </rotaryControl:RotaryControl.OuterDialFill>
                                            <rotaryControl:RotaryControl.LayoutTransform>
                                                <ScaleTransform  ScaleX="{Binding Size, ElementName=OscBRateRC}" 
                                                            ScaleY="{Binding Size, ElementName=OscBRateRC}"/>
                                            </rotaryControl:RotaryControl.LayoutTransform>
                                        </rotaryControl:RotaryControl>
                                        <rotaryControl:RotaryControl Background="Transparent"             
                                                                     ControlEnabled="True"
                                                                     EndAngleInDegrees="135"
                                                                     FontBrush="White"                                                       
                                                                     Height="205"
                                                                     HorizontalAlignment="Center"                                                     
                                                                     LabelDialRadius="60"
                                                                     LegendBrush="White"
                                                                     LegendFontSize="18"
                                                                     LegendText="OSC C RATE"
                                                                     MajorTickBrush="White"
                                                                     MajorTickDialRadius="60"
                                                                     MajorTickIncrement="10000"
                                                                     Margin="0,-10,0,0"
                                                                     MinimumValue="0"
                                                                     MinorTickBrush="LightGray"
                                                                     MinorTickDialRadius="50"
                                                                     NumberOfMajorTicks="11"
                                                                     NumberOfMinorTicks="2"
                                                                     PointerAxleFillActive="#00FF00"
                                                                     PointerAxleFillInactive="#FF0000"  
                                                                     PointerType="arrow"
                                                                     Size="0.6"
                                                                     StartAngleInDegrees="225"
                                                                     ToolTip="{StaticResource CM_ToolTipText_CMOCRC}"                                                         
                                                                     Value="{Binding CMOscCRate, Mode=TwoWay}"
                                                                     VerticalAlignment="Top"
                                                                     Width="180"                                                                 
                                                                     x:Name="OscCRateRC">

                                            <rotaryControl:RotaryControl.PointerFill>
                                                <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                                                    <GradientStop Color="#000000" Offset="0"/>
                                                    <GradientStop Color="#0000FF" Offset="1.0"/>
                                                </LinearGradientBrush>
                                            </rotaryControl:RotaryControl.PointerFill>

                                            <rotaryControl:RotaryControl.InnerDialRadius>40</rotaryControl:RotaryControl.InnerDialRadius>
                                            <rotaryControl:RotaryControl.InnerDialFill>
                                                <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                                                    <GradientStop Color="DodgerBlue" Offset="0"/>
                                                    <GradientStop Color="Blue" Offset="1.0"/>
                                                </LinearGradientBrush>
                                            </rotaryControl:RotaryControl.InnerDialFill>

                                            <rotaryControl:RotaryControl.OuterDialBorderThickness>2</rotaryControl:RotaryControl.OuterDialBorderThickness>
                                            <rotaryControl:RotaryControl.OuterDialFill>
                                                <LinearGradientBrush EndPoint="0.5,0" StartPoint="0.5,1">
                                                    <GradientStop Color="Black" Offset="0"/>
                                                    <GradientStop Color="DarkBlue" Offset="1.0"/>
                                                </LinearGradientBrush>
                                            </rotaryControl:RotaryControl.OuterDialFill>
                                            <rotaryControl:RotaryControl.LayoutTransform>
                                                <ScaleTransform  ScaleX="{Binding Size, ElementName=OscCRateRC}" 
                                                            ScaleY="{Binding Size, ElementName=OscCRateRC}"/>
                                            </rotaryControl:RotaryControl.LayoutTransform>
                                        </rotaryControl:RotaryControl>

                                        <!-- Oscillator/Color assignment controls container. -->
                                        <StackPanel Margin="0,0,0,0" 
                                                    Orientation="Vertical">

                                            <!-- Red assignment controls container -->
                                            <Border Background="DarkRed" 
                                                    BorderBrush="Red" 
                                                    BorderThickness="1" 
                                                    CornerRadius="5" 
                                                    Height="30" 
                                                    HorizontalAlignment="Center"  
                                                    Margin="0,0,0,0" 
                                                    VerticalAlignment="Top"
                                                    Width="150">

                                                <!-- Red buttons container. -->
                                                <StackPanel HorizontalAlignment="Center" 
                                                            Orientation="Horizontal"
                                                            VerticalAlignment="Center">
                                                    <Button Click="RAPosBtnClkd"
                                                            Content="A+" 
                                                            Height="23" 
                                                            HorizontalAlignment="Left" 
                                                            Margin="0,0,0,0" 
                                                            ToolTip="{StaticResource CM_ToolTipText_CMORAP}" 
                                                            VerticalAlignment="Top" 
                                                            Width="24"
                                                            x:Name="RAPosBtn" />
                                                    <Button Click="RANegBtnClkd"
                                                            Content="A-"                                             
                                                            Height="23" 
                                                            HorizontalAlignment="Left" 
                                                            Margin="0,0,0,0" 
                                                            ToolTip="{StaticResource CM_ToolTipText_CMORAN}" 
                                                            VerticalAlignment="Top" 
                                                            Width="24" 
                                                            x:Name="RANegBtn" />
                                                    <Button Click="RBPosBtnClkd" 
                                                            Content="B+" 
                                                            Height="23" 
                                                            HorizontalAlignment="Left" 
                                                            Margin="0,0,0,0" 
                                                            ToolTip="{StaticResource CM_ToolTipText_CMORBP}" 
                                                            VerticalAlignment="Top" 
                                                            Width="24" 
                                                            x:Name="RBPosBtn" />
                                                    <Button Click="RBNegBtnClkd"
                                                            Content="B-" 
                                                            Height="23" 
                                                            HorizontalAlignment="Left" 
                                                            Margin="0,0,0,0" 
                                                            ToolTip="{StaticResource CM_ToolTipText_CMORBN}" 
                                                            VerticalAlignment="Top" 
                                                            Width="24" 
                                                            x:Name="RBNegBtn" />
                                                    <Button Click="RCPosBtnClkd" 
                                                            Content="C+" 
                                                            Height="23" 
                                                            HorizontalAlignment="Left"
                                                            Margin="0,0,0,0" 
                                                            ToolTip="{StaticResource CM_ToolTipText_CMORCP}" 
                                                            VerticalAlignment="Top" 
                                                            Width="24" 
                                                            x:Name="RCPosBtn" />
                                                    <Button Click="RCNegBtnClkd"
                                                            Content="C-" 
                                                            Height="23" 
                                                            HorizontalAlignment="Left" 
                                                            Margin="0,0,0,0" 
                                                            ToolTip="{StaticResource CM_ToolTipText_CMORCN}" 
                                                            VerticalAlignment="Top" 
                                                            Width="24" 
                                                            x:Name="RCNegBtn" />
                                                </StackPanel>
                                            </Border>

                                            <!-- Green assignment controls container. -->
                                            <Border Background="DarkGreen" 
                                                    BorderBrush="LawnGreen" 
                                                    BorderThickness="1" 
                                                    CornerRadius="5" 
                                                    Height="30" 
                                                    HorizontalAlignment="Center"  
                                                    Margin="0,5,0,0" 
                                                    VerticalAlignment="Top"
                                                    Width="150">

                                                <!-- Green buttons container. -->
                                                <StackPanel HorizontalAlignment="Center"
                                                            Orientation="Horizontal"
                                                            VerticalAlignment="Center">
                                                    <Button Click="GAPosBtnClkd"
                                                            Content="A+" 
                                                            Height="23" 
                                                            HorizontalAlignment="Left" 
                                                            Margin="0,0,0,0" 
                                                            ToolTip="{StaticResource CM_ToolTipText_CMOGAP}" 
                                                            VerticalAlignment="Top" 
                                                            Width="24" 
                                                            x:Name="GAPosBtn" />
                                                    <Button Click="GANegBtnClkd" 
                                                            Content="A-"                                             
                                                            Height="23" 
                                                            HorizontalAlignment="Left" 
                                                            Margin="0,0,0,0" 
                                                            ToolTip="{StaticResource CM_ToolTipText_CMOGAN}" 
                                                            VerticalAlignment="Top" 
                                                            Width="24" 
                                                            x:Name="GANegBtn" />
                                                    <Button Click="GBPosBtnClkd" 
                                                            Content="B+" 
                                                            Height="23" 
                                                            HorizontalAlignment="Left" 
                                                            Margin="0,0,0,0" 
                                                            ToolTip="{StaticResource CM_ToolTipText_CMOGBP}" 
                                                            VerticalAlignment="Top" 
                                                            Width="24" 
                                                            x:Name="GBPosBtn" />
                                                    <Button Click="GBNegBtnClkd"
                                                            Content="B-" 
                                                            Height="23" 
                                                            HorizontalAlignment="Left" 
                                                            Margin="0,0,0,0" 
                                                            ToolTip="{StaticResource CM_ToolTipText_CMOGBN}" 
                                                            VerticalAlignment="Top" 
                                                            Width="24" 
                                                        x:Name="GBNegBtn" />
                                                    <Button Click="GCPosBtnClkd"
                                                            Content="C+" 
                                                            Height="23" 
                                                            HorizontalAlignment="Left"
                                                            Margin="0,0,0,0" 
                                                            ToolTip="{StaticResource CM_ToolTipText_CMOGCP}" 
                                                            VerticalAlignment="Top" 
                                                            Width="24" 
                                                            x:Name="GCPosBtn" />
                                                    <Button Click="GCNegBtnClkd" 
                                                            Content="C-" 
                                                            Height="23" 
                                                            HorizontalAlignment="Left" 
                                                            Margin="0,0,0,0" 
                                                            ToolTip="{StaticResource CM_ToolTipText_CMOGCN}" 
                                                            VerticalAlignment="Top" 
                                                            Width="24" 
                                                            x:Name="GCNegBtn" />
                                                </StackPanel>
                                            </Border>

                                            <!-- Blue assignment controls container. -->
                                            <Border Background="DarkBlue" 
                                                    BorderBrush="Blue" 
                                                    BorderThickness="1" 
                                                    CornerRadius="5" 
                                                    Height="30" 
                                                    HorizontalAlignment="Center"  
                                                    Margin="0,5,0,0" 
                                                    VerticalAlignment="Top"
                                                    Width="150">

                                                <!-- Blue buttons container. -->
                                                <StackPanel HorizontalAlignment="Center" 
                                                            Orientation="Horizontal"
                                                            VerticalAlignment="Center">
                                                    <Button Click="BAPosBtnClkd" 
                                                            Content="A+" 
                                                            Height="23" 
                                                            HorizontalAlignment="Left" 
                                                            Margin="0,0,0,0" 
                                                            ToolTip="{StaticResource CM_ToolTipText_CMOBAP}"  
                                                            VerticalAlignment="Top" 
                                                            Width="24" 
                                                            x:Name="BAPosBtn" />
                                                    <Button Click="BANegBtnClkd" 
                                                            Content="A-"                                             
                                                            Height="23" 
                                                            HorizontalAlignment="Left" 
                                                            Margin="0,0,0,0" 
                                                            ToolTip="{StaticResource CM_ToolTipText_CMOBAN}" 
                                                            VerticalAlignment="Top" 
                                                            Width="24" 
                                                            x:Name="BANegBtn" />
                                                    <Button Click="BBPosBtnClkd" 
                                                            Content="B+" 
                                                            Height="23" 
                                                            HorizontalAlignment="Left" 
                                                            Margin="0,0,0,0" 
                                                            ToolTip="{StaticResource CM_ToolTipText_CMOBAN}" 
                                                            VerticalAlignment="Top" 
                                                            Width="24" 
                                                            x:Name="BBPosBtn" />
                                                    <Button Click="BBNegBtnClkd" 
                                                            Content="B-" 
                                                            Height="23" 
                                                            HorizontalAlignment="Left" 
                                                            Margin="0,0,0,0" 
                                                            ToolTip="{StaticResource CM_ToolTipText_CMOBBN}" 
                                                            VerticalAlignment="Top" 
                                                            Width="24" 
                                                            x:Name="BBNegBtn" />
                                                    <Button Click="BCPosBtnClkd"
                                                            Content="C+" 
                                                            Height="23" 
                                                            HorizontalAlignment="Left"
                                                            Margin="0,0,0,0" 
                                                            ToolTip="{StaticResource CM_ToolTipText_CMOBCP}" 
                                                            VerticalAlignment="Top" 
                                                            Width="24" 
                                                            x:Name="BCPosBtn" />
                                                    <Button Click="BCNegBtnClkd" 
                                                            Content="C-" 
                                                            Height="23" 
                                                            HorizontalAlignment="Left" 
                                                            Margin="0,0,0,0" 
                                                            ToolTip="{StaticResource CM_ToolTipText_CMOBCN}"  
                                                            VerticalAlignment="Top" 
                                                            Width="24" 
                                                            x:Name="BCNegBtn" />
                                                </StackPanel>
                                            </Border>
                                        </StackPanel>
                                    </StackPanel>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </StackPanel>
                </Border>
            </StackPanel>
        </GroupBox>
    </StackPanel>
</UserControl>
